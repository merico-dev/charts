"use strict";

var _interopRequireDefault = require("@babel/runtime-corejs2/helpers/interopRequireDefault");

var _Object$defineProperty = require("@babel/runtime-corejs2/core-js/object/define-property");

_Object$defineProperty(exports, "__esModule", {
  value: true
});

exports["default"] = exports.REFERENCE_LINE_LABEL_POSITION = void 0;

var _react = _interopRequireDefault(require("react"));

var _bizcharts = require("bizcharts");

var _utils = require("../helpers/utils");

var REFERENCE_LINE_LABEL_POSITION = {
  LEFT: 'left',
  CENTER: 'center',
  RIGHT: 'right'
};
exports.REFERENCE_LINE_LABEL_POSITION = REFERENCE_LINE_LABEL_POSITION;
var G2_GUIDE_LINE_TEXT_POS = {
  left: 'start',
  center: 'center',
  right: 'end'
};
var G2_GUIDE_LINE_TEXT_OFFSET_X_H = {
  left: 5,
  center: 0,
  right: -5
};
var G2_GUIDE_LINE_TEXT_OFFSET_X_V = {
  left: 5,
  center: 5,
  right: 5
};
var G2_GUIDE_LINE_TEXT_OFFSET_Y_H = {
  left: -5,
  center: -5,
  right: -5
};
var G2_GUIDE_LINE_TEXT_OFFSET_Y_V = {
  left: 5,
  center: 0,
  right: -5
};

function ReferenceLine(_ref) {
  var _ref$transpose = _ref.transpose,
      transpose = _ref$transpose === void 0 ? false : _ref$transpose,
      _ref$vertical = _ref.vertical,
      vertical = _ref$vertical === void 0 ? false : _ref$vertical,
      _ref$renderOnTop = _ref.renderOnTop,
      renderOnTop = _ref$renderOnTop === void 0 ? false : _ref$renderOnTop,
      _ref$xScaleKey = _ref.xScaleKey,
      xScaleKey = _ref$xScaleKey === void 0 ? 'id' : _ref$xScaleKey,
      _ref$yScaleKey = _ref.yScaleKey,
      yScaleKey = _ref$yScaleKey === void 0 ? 'value' : _ref$yScaleKey,
      value = _ref.value,
      renderLabel = _ref.renderLabel,
      labelText = _ref.labelText,
      _ref$labelPosition = _ref.labelPosition,
      labelPosition = _ref$labelPosition === void 0 ? REFERENCE_LINE_LABEL_POSITION.LEFT : _ref$labelPosition,
      _ref$labelFillColor = _ref.labelFillColor,
      labelFillColor = _ref$labelFillColor === void 0 ? '#727272' : _ref$labelFillColor,
      labelStrokeColor = _ref.labelStrokeColor,
      _ref$stroke = _ref.stroke,
      stroke = _ref$stroke === void 0 ? '#727272' : _ref$stroke;
  return /*#__PURE__*/_react["default"].createElement(_bizcharts.Guide.Line, {
    top: renderOnTop,
    start: vertical ? (0, _utils.deriveG2VerticalGuideEndpointPos)(value, '0%', xScaleKey, transpose) : (0, _utils.deriveG2HorizontalGuideEndpointPos)('0%', value, yScaleKey, transpose),
    end: vertical ? (0, _utils.deriveG2VerticalGuideEndpointPos)(value, '100%', xScaleKey, transpose) : (0, _utils.deriveG2HorizontalGuideEndpointPos)('100%', value, yScaleKey, transpose),
    lineStyle: {
      stroke: stroke,
      lineDash: [0, 1, 1],
      lineWidth: 1
    },
    text: {
      style: {
        fill: labelFillColor,
        stroke: labelStrokeColor,
        // @ts-expect-error ts-migrate(2769) FIXME: No overload matches this call.
        lineWidth: 0.2,
        textAlign: labelPosition,
        fontSize: 12,
        fontWeight: 400
      },
      content: renderLabel ? renderLabel() : labelText,
      // @ts-expect-error ts-migrate(7053) FIXME: Element implicitly has an 'any' type because expre... Remove this comment to see the full error message
      position: G2_GUIDE_LINE_TEXT_POS[labelPosition],
      offsetX: vertical ? // @ts-expect-error ts-migrate(7053) FIXME: Element implicitly has an 'any' type because expre... Remove this comment to see the full error message
      G2_GUIDE_LINE_TEXT_OFFSET_X_V[labelPosition] : // @ts-expect-error ts-migrate(7053) FIXME: Element implicitly has an 'any' type because expre... Remove this comment to see the full error message
      G2_GUIDE_LINE_TEXT_OFFSET_X_H[labelPosition],
      offsetY: vertical ? // @ts-expect-error ts-migrate(7053) FIXME: Element implicitly has an 'any' type because expre... Remove this comment to see the full error message
      G2_GUIDE_LINE_TEXT_OFFSET_Y_V[labelPosition] : // @ts-expect-error ts-migrate(7053) FIXME: Element implicitly has an 'any' type because expre... Remove this comment to see the full error message
      G2_GUIDE_LINE_TEXT_OFFSET_Y_H[labelPosition]
    }
  });
}

var _default = ReferenceLine;
exports["default"] = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jb21wb25lbnRzL2cyL3JlZmVyZW5jZS1saW5lLnRzeCJdLCJuYW1lcyI6WyJSRUZFUkVOQ0VfTElORV9MQUJFTF9QT1NJVElPTiIsIkxFRlQiLCJDRU5URVIiLCJSSUdIVCIsIkcyX0dVSURFX0xJTkVfVEVYVF9QT1MiLCJsZWZ0IiwiY2VudGVyIiwicmlnaHQiLCJHMl9HVUlERV9MSU5FX1RFWFRfT0ZGU0VUX1hfSCIsIkcyX0dVSURFX0xJTkVfVEVYVF9PRkZTRVRfWF9WIiwiRzJfR1VJREVfTElORV9URVhUX09GRlNFVF9ZX0giLCJHMl9HVUlERV9MSU5FX1RFWFRfT0ZGU0VUX1lfViIsIlJlZmVyZW5jZUxpbmUiLCJ0cmFuc3Bvc2UiLCJ2ZXJ0aWNhbCIsInJlbmRlck9uVG9wIiwieFNjYWxlS2V5IiwieVNjYWxlS2V5IiwidmFsdWUiLCJyZW5kZXJMYWJlbCIsImxhYmVsVGV4dCIsImxhYmVsUG9zaXRpb24iLCJsYWJlbEZpbGxDb2xvciIsImxhYmVsU3Ryb2tlQ29sb3IiLCJzdHJva2UiLCJsaW5lRGFzaCIsImxpbmVXaWR0aCIsInN0eWxlIiwiZmlsbCIsInRleHRBbGlnbiIsImZvbnRTaXplIiwiZm9udFdlaWdodCIsImNvbnRlbnQiLCJwb3NpdGlvbiIsIm9mZnNldFgiLCJvZmZzZXRZIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFLTyxJQUFNQSw2QkFBNkIsR0FBRztBQUMzQ0MsRUFBQUEsSUFBSSxFQUFFLE1BRHFDO0FBRTNDQyxFQUFBQSxNQUFNLEVBQUUsUUFGbUM7QUFHM0NDLEVBQUFBLEtBQUssRUFBRTtBQUhvQyxDQUF0Qzs7QUFNUCxJQUFNQyxzQkFBc0IsR0FBRztBQUM3QkMsRUFBQUEsSUFBSSxFQUFFLE9BRHVCO0FBRTdCQyxFQUFBQSxNQUFNLEVBQUUsUUFGcUI7QUFHN0JDLEVBQUFBLEtBQUssRUFBRTtBQUhzQixDQUEvQjtBQU1BLElBQU1DLDZCQUE2QixHQUFH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TUFBQUEsT0FBTyxFQUFFcEIsUUFBUSxHQUNiO0FBQ0FMLE1BQUFBLDZCQUE2QixDQUFDWSxhQUFELENBRmhCLEdBR2I7QUFDQWIsTUFBQUEsNkJBQTZCLENBQUNhLGFBQUQsQ0FqQjdCO0FBa0JKYyxNQUFBQSxPQUFPLEVBQUVyQixRQUFRLEdBQ2I7QUFDQUgsTUFBQUEsNkJBQTZCLENBQUNVLGFBQUQsQ0FGaEIsR0FHYjtBQUNBWCxNQUFBQSw2QkFBNkIsQ0FBQ1csYUFBRDtBQXRCN0I7QUFqQlIsSUFERjtBQTRDRDs7ZUFFY1QsYSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBHdWlkZSB9IGZyb20gJ2JpemNoYXJ0cyc7XG5pbXBvcnQge1xuICBkZXJpdmVHMkhvcml6b250YWxHdWlkZUVuZHBvaW50UG9zIGFzIGRlcml2ZUhvcml6b250YWxFbmRwb2ludFBvcyxcbiAgZGVyaXZlRzJWZXJ0aWNhbEd1aWRlRW5kcG9pbnRQb3MgYXMgZGVyaXZlVmVydGljYWxFbmRwb2ludFBvcyxcbn0gZnJvbSAnLi4vaGVscGVycy91dGlscyc7XG5cbmV4cG9ydCBjb25zdCBSRUZFUkVOQ0VfTElORV9MQUJFTF9QT1NJVElPTiA9IHtcbiAgTEVGVDogJ2xlZnQnLFxuICBDRU5URVI6ICdjZW50ZXInLFxuICBSSUdIVDogJ3JpZ2h0Jyxcbn07XG5cbmNvbnN0IEcyX0dVSURFX0xJTkVfVEVYVF9QT1MgPSB7XG4gIGxlZnQ6ICdzdGFydCcsXG4gIGNlbnRlcjogJ2NlbnRlcicsXG4gIHJpZ2h0OiAnZW5kJyxcbn07XG5cbmNvbnN0IEcyX0dVSURFX0xJTkVfVEVYVF9PRkZTRVRfWF9IID0ge1xuICBsZWZ0OiA1LFxuICBjZW50ZXI6IDAsXG4gIHJpZ2h0OiAtNSxcbn07XG5cbmNvbnN0IEcyX0dVSURFX0xJTkVfVEVYVF9PRkZTRVRfWF9WID0ge1xuICBsZWZ0OiA1LFxuICBjZW50ZXI6IDUsXG4gIHJpZ2h0OiA1LFxufTtcblxuY29uc3QgRzJfR1VJREVfTElORV9URVhUX09GRlNFVF9ZX0ggPSB7XG4gIGxlZnQ6IC01LFxuICBjZW50ZXI6IC01LFxuICByaWdodDogLTUsXG59O1xuXG5jb25zdCBHMl9HVUlERV9MSU5FX1RFWFRfT0ZGU0VUX1lfViA9IHtcbiAgbGVmdDogNSxcbiAgY2VudGVyOiAwLFxuICByaWdodDogLTUsXG59O1xuXG5mdW5jdGlvbiBSZWZlcmVuY2VMaW5lKHtcbiAgdHJhbnNwb3NlID0gZmFsc2UsXG4gIHZlcnRpY2FsID0gZmFsc2UsXG4gIHJlbmRlck9uVG9wID0gZmFsc2UsXG4gIHhTY2FsZUtleSA9ICdpZCcsXG4gIHlTY2FsZUtleSA9ICd2YWx1ZScsXG4gIHZhbHVlLFxuICByZW5kZXJMYWJlbCxcbiAgbGFiZWxUZXh0LFxuICBsYWJlbFBvc2l0aW9uID0gUkVGRVJFTkNFX0xJTkVfTEFCRUxfUE9TSVRJT04uTEVGVCxcbiAgbGFiZWxGaWxsQ29sb3IgPSAnIzcyNzI3MicsXG4gIGxhYmVsU3Ryb2tlQ29sb3IsXG4gIHN0cm9rZSA9ICcjNzI3MjcyJyxcbn06IGFueSkge1xuICByZXR1cm4gKFxuICAgIDxHdWlkZS5MaW5lXG4gICAgICB0b3A9e3JlbmRlck9uVG9wfVxuICAgICAgc3RhcnQ9e1xuICAgICAgICB2ZXJ0aWNhbFxuICAgICAgICAgID8gZGVyaXZlVmVydGljYWxFbmRwb2ludFBvcyh2YWx1ZSwgJzAlJywgeFNjYWxlS2V5LCB0cmFuc3Bvc2UpXG4gICAgICAgICAgOiBkZXJpdmVIb3Jpem9udGFsRW5kcG9pbnRQb3MoJzAlJywgdmFsdWUsIHlTY2FsZUtleSwgdHJhbnNwb3NlKVxuICAgICAgfVxuICAgICAgZW5kPXtcbiAgICAgICAgdmVydGljYWxcbiAgICAgICAgICA/IGRlcml2ZVZlcnRpY2FsRW5kcG9pbnRQb3ModmFsdWUsICcxMDAlJywgeFNjYWxlS2V5LCB0cmFuc3Bvc2UpXG4gICAgICAgICAgOiBkZXJpdmVIb3Jpem9udGFsRW5kcG9pbnRQb3MoJzEwMCUnLCB2YWx1ZSwgeVNjYWxlS2V5LCB0cmFuc3Bvc2UpXG4gICAgICB9XG4gICAgICBsaW5lU3R5bGU9e3tcbiAgICAgICAgc3Ryb2tlLFxuICAgICAgICBsaW5lRGFzaDogWzAsIDEsIDFdLFxuICAgICAgICBsaW5lV2lkdGg6IDEsXG4gICAgICB9fVxuICAgICAgdGV4dD17e1xuICAgICAgICBzdHlsZToge1xuICAgICAgICAgIGZpbGw6IGxhYmVsRmlsbENvbG9yLFxuICAgICAgICAgIHN0cm9rZTogbGFiZWxTdHJva2VDb2xvcixcbiAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIHRzLW1pZ3JhdGUoMjc2OSkgRklYTUU6IE5vIG92ZXJsb2FkIG1hdGNoZXMgdGhpcyBjYWxsLlxuICAgICAgICAgIGxpbmVXaWR0aDogMC4yLFxuICAgICAgICAgIHRleHRBbGlnbjogbGFiZWxQb3NpdGlvbixcbiAgICAgICAgICBmb250U2l6ZTogMTIsXG4gICAgICAgICAgZm9udFdlaWdodDogNDAwLFxuICAgICAgICB9LFxuICAgICAgICBjb250ZW50OiByZW5kZXJMYWJlbCA/IHJlbmRlckxhYmVsKCkgOiBsYWJlbFRleHQsXG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgdHMtbWlncmF0ZSg3MDUzKSBGSVhNRTogRWxlbWVudCBpbXBsaWNpdGx5IGhhcyBhbiAnYW55JyB0eXBlIGJlY2F1c2UgZXhwcmUuLi4gUmVtb3ZlIHRoaXMgY29tbWVudCB0byBzZWUgdGhlIGZ1bGwgZXJyb3IgbWVzc2FnZVxuICAgICAgICBwb3NpdGlvbjogRzJfR1VJREVfTElORV9URVhUX1BPU1tsYWJlbFBvc2l0aW9uXSxcbiAgICAgICAgb2Zmc2V0WDogdmVydGljYWxcbiAgICAgICAgICA/IC8vIEB0cy1leHBlY3QtZXJyb3IgdHMtbWlncmF0ZSg3MDUzKSBGSVhNRTogRWxlbWVudCBpbXBsaWNpdGx5IGhhcyBhbiAnYW55JyB0eXBlIGJlY2F1c2UgZXhwcmUuLi4gUmVtb3ZlIHRoaXMgY29tbWVudCB0byBzZWUgdGhlIGZ1bGwgZXJyb3IgbWVzc2FnZVxuICAgICAgICAgICAgRzJfR1VJREVfTElORV9URVhUX09GRlNFVF9YX1ZbbGFiZWxQb3NpdGlvbl1cbiAgICAgICAgICA6IC8vIEB0cy1leHBlY3QtZXJyb3IgdHMtbWlncmF0ZSg3MDUzKSBGSVhNRTogRWxlbWVudCBpbXBsaWNpdGx5IGhhcyBhbiAnYW55JyB0eXBlIGJlY2F1c2UgZXhwcmUuLi4gUmVtb3ZlIHRoaXMgY29tbWVudCB0byBzZWUgdGhlIGZ1bGwgZXJyb3IgbWVzc2FnZVxuICAgICAgICAgICAgRzJfR1VJREVfTElORV9URVhUX09GRlNFVF9YX0hbbGFiZWxQb3NpdGlvbl0sXG4gICAgICAgIG9mZnNldFk6IHZlcnRpY2FsXG4gICAgICAgICAgPyAvLyBAdHMtZXhwZWN0LWVycm9yIHRzLW1pZ3JhdGUoNzA1MykgRklYTUU6IEVsZW1lbnQgaW1wbGljaXRseSBoYXMgYW4gJ2FueScgdHlwZSBiZWNhdXNlIGV4cHJlLi4uIFJlbW92ZSB0aGlzIGNvbW1lbnQgdG8gc2VlIHRoZSBmdWxsIGVycm9yIG1lc3NhZ2VcbiAgICAgICAgICAgIEcyX0dVSURFX0xJTkVfVEVYVF9PRkZTRVRfWV9WW2xhYmVsUG9zaXRpb25dXG4gICAgICAgICAgOiAvLyBAdHMtZXhwZWN0LWVycm9yIHRzLW1pZ3JhdGUoNzA1MykgRklYTUU6IEVsZW1lbnQgaW1wbGljaXRseSBoYXMgYW4gJ2FueScgdHlwZSBiZWNhdXNlIGV4cHJlLi4uIFJlbW92ZSB0aGlzIGNvbW1lbnQgdG8gc2VlIHRoZSBmdWxsIGVycm9yIG1lc3NhZ2VcbiAgICAgICAgICAgIEcyX0dVSURFX0xJTkVfVEVYVF9PRkZTRVRfWV9IW2xhYmVsUG9zaXRpb25dLFxuICAgICAgfX1cbiAgICAvPlxuICApO1xufVxuXG5leHBvcnQgZGVmYXVsdCBSZWZlcmVuY2VMaW5lO1xuIl19